<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BLESS Pizza | Men√∫ Digital</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&amp;display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            -webkit-font-smoothing: antialiased;
        }

        /* Hide scrollbar for Chrome, Safari and Opera */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }

        /* Hide scrollbar for IE, Edge and Firefox */
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        .gradient-text {
            background: linear-gradient(to right, #ef4444, #f59e0b, #ec4899);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .gradient-bg {
            background: linear-gradient(135deg, #ef4444, #f59e0b, #ec4899);
        }
    </style>
</head>

<body class="bg-gray-50 text-gray-900 pb-32">

    <!-- Header -->
    <header class="sticky top-0 z-50 bg-white/80 backdrop-blur-md border-b border-gray-200">
        <div class="max-w-3xl mx-auto px-6 py-4 flex justify-between items-center">
            <div class="flex items-center gap-3">
                <!-- Logo representation based on image -->
                <div
                    class="relative w-10 h-10 rounded-full gradient-bg p-0.5 flex items-center justify-center shadow-sm">
                    <div
                        class="w-full h-full bg-white rounded-full flex items-center justify-center border-2 border-yellow-300">
                        <span
                            class="font-bold text-red-600 text-xs tracking-tighter italic transform -rotate-6">BLESS</span>
                    </div>
                </div>
                <div>
                    <h1 class="text-lg font-medium tracking-tight text-gray-900">BLESS Pizza</h1>
                    <p class="text-xs text-gray-500 font-normal">Abierto ‚Ä¢ 19:00 - 00:00</p>
                </div>
            </div>
            <button class="p-2 rounded-full hover:bg-gray-100 transition-colors relative" onclick="scrollToCart()">
                <i data-lucide="shopping-bag" class="w-6 h-6 text-gray-700 stroke-[1.5]"></i>
                <span id="header-count"
                    class="absolute top-1 right-1 w-4 h-4 bg-red-500 text-white text-[10px] font-medium rounded-full flex items-center justify-center opacity-0 transition-opacity">0</span>
            </button>
        </div>

        <!-- Category Nav -->
        <nav class="max-w-3xl mx-auto px-6 pb-4 overflow-x-auto no-scrollbar flex gap-3">
            <button onclick="filterCategory('all')"
                class="category-btn active whitespace-nowrap px-4 py-2 rounded-full bg-gray-900 text-white text-sm font-medium transition-all">Todos</button>
            <button onclick="filterCategory('hamburguesas')"
                class="category-btn whitespace-nowrap px-4 py-2 rounded-full bg-white border border-gray-200 text-gray-600 text-sm font-medium hover:border-gray-300 transition-all">Hamburguesas</button>
            <button onclick="filterCategory('pizzas')"
                class="category-btn whitespace-nowrap px-4 py-2 rounded-full bg-white border border-gray-200 text-gray-600 text-sm font-medium hover:border-gray-300 transition-all">Pizzas</button>
            <button onclick="filterCategory('bebidas')"
                class="category-btn whitespace-nowrap px-4 py-2 rounded-full bg-white border border-gray-200 text-gray-600 text-sm font-medium hover:border-gray-300 transition-all">Bebidas</button>
        </nav>
    </header>

    <!-- Main Content -->
    <main class="max-w-3xl mx-auto px-6 py-8">

        <!-- Greeting -->
        <div class="mb-8">
            <h2 class="text-2xl font-medium tracking-tight text-gray-900 mb-2">¬øQu√© vas a pedir hoy?</h2>
            <p class="text-lg text-gray-500 font-normal leading-relaxed">Selecciona tus favoritos y env√≠a tu pedido
                directamente a nuestra cocina.</p>
        </div>

        <!-- Product Grid -->
        <div id="product-grid" class="grid grid-cols-1 sm:grid-cols-2 gap-6">
            <!-- Products will be injected here by JS -->
        </div>

        <!-- User Details Section -->
        <div class="mt-12 pt-8 border-t border-gray-200">
            <h3 class="text-lg font-medium tracking-tight mb-4">Datos de entrega</h3>
            <div class="grid grid-cols-1 gap-4">
                <div>
                    <label class="block text-sm text-gray-600 mb-1">Nombre</label>
                    <input type="text" id="customer-name" placeholder="Tu nombre"
                        class="w-full bg-white border border-gray-200 rounded-lg px-4 py-3 text-base outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent transition-all">
                </div>
                <div class="flex gap-4">
                    <div class="flex-1">
                        <label class="block text-sm text-gray-600 mb-1">Direcci√≥n / Mesa</label>
                        <input type="text" id="customer-address" placeholder="Calle 123 o Mesa 4"
                            class="w-full bg-white border border-gray-200 rounded-lg px-4 py-3 text-base outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent transition-all">
                    </div>
                    <div class="w-1/3">
                        <label class="block text-sm text-gray-600 mb-1">M√©todo</label>
                        <select id="delivery-method"
                            class="w-full bg-white border border-gray-200 rounded-lg px-4 py-3 text-base outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent transition-all appearance-none">
                            <option value="Delivery">Delivery</option>
                            <option value="Retiro">Retiro</option>
                            <option value="Mesa">En Mesa</option>
                        </select>
                    </div>
                </div>
                <div>
                    <label class="block text-sm text-gray-600 mb-1">Notas (Opcional)</label>
                    <textarea id="customer-notes" placeholder="Sin cebolla, mayonesa extra..."
                        class="w-full bg-white border border-gray-200 rounded-lg px-4 py-3 text-base outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent transition-all h-24 resize-none"></textarea>
                </div>
            </div>
        </div>

    </main>

    <!-- Sticky Bottom Cart -->
    <div id="sticky-cart"
        class="fixed bottom-6 left-6 right-6 max-w-3xl mx-auto transform translate-y-[150%] transition-transform duration-300 ease-out z-40">
        <div
            class="bg-gray-900 text-white rounded-2xl shadow-2xl shadow-gray-900/20 p-4 flex justify-between items-center backdrop-blur-lg bg-opacity-95">
            <div class="flex flex-col pl-2">
                <span class="text-xs text-gray-400 uppercase tracking-wider font-medium mb-0.5">Total Pedido</span>
                <span id="cart-total" class="text-xl font-semibold tracking-tight">$0.00</span>
            </div>
            <button onclick="sendToWhatsapp()"
                class="group flex items-center gap-2 bg-white text-gray-900 px-6 py-3 rounded-xl font-medium transition-transform active:scale-95">
                <span>Enviar Pedido</span>
                <i data-lucide="send"
                    class="w-4 h-4 text-gray-900 stroke-[2] group-hover:translate-x-0.5 transition-transform"></i>
            </button>
        </div>
    </div>

    <script>
        // Data
        const products = [
            {
                id: 1,
                category: 'hamburguesas',
                name: 'Bless Burger',
                desc: 'Doble carne smash, cheddar, bacon crocante, salsa Bless.',
                price: 12000,
                image: 'https://images.unsplash.com/photo-1568901346375-23c9450c58cd?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80'
            },
            {
                id: 2,
                category: 'hamburguesas',
                name: 'Cheese Classic',
                desc: 'Carne 180g, triple cheddar fundido, cebolla caramelizada.',
                price: 10500,
                image: 'https://images.unsplash.com/photo-1550547660-d9450f859349?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80'
            },
            {
                id: 3,
                category: 'pizzas',
                name: 'Napolitana Bless',
                desc: 'Salsa de tomate, mozzarella, rodajas de tomate, ajo y pesto.',
                price: 14000,
                image: 'https://images.unsplash.com/photo-1574071318508-1cdbab80d002?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80'
            },
            {
                id: 4,
                category: 'pizzas',
                name: 'Pepperoni Style',
                desc: 'Mucha mozzarella y doble pepperoni americano.',
                price: 15500,
                image: 'https://images.unsplash.com/photo-1628840042765-356cda07504e?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80'
            },
            {
                id: 5,
                category: 'bebidas',
                name: 'Coca Cola',
                desc: 'Lata 354ml bien fr√≠a.',
                price: 2500,
                image: 'https://images.unsplash.com/photo-1622483767028-3f66f32aef97?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80'
            },
            {
                id: 6,
                category: 'bebidas',
                name: 'Cerveza Artesanal',
                desc: 'Pinta IPA o Honey.',
                price: 4500,
                image: 'https://images.unsplash.com/photo-1608270586620-248524c67de9?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80'
            }
        ];

        // State
        let cart = {};
        const PHONE_NUMBER = "5491126089628";

        // Render Products
        function renderProducts(filter = 'all') {
            const container = document.getElementById('product-grid');
            container.innerHTML = '';

            const filtered = filter === 'all'
                ? products
                : products.filter(p => p.category === filter);

            filtered.forEach(product => {
                const quantity = cart[product.id] ? cart[product.id].qty : 0;

                const html = `
                    <article class="bg-white rounded-2xl border border-gray-200 overflow-hidden hover:shadow-md transition-shadow duration-300 flex flex-col h-full">
                        <div class="relative h-48 w-full overflow-hidden bg-gray-100">
                            <img src="${product.image}" alt="${product.name}" class="w-full h-full object-cover hover:scale-105 transition-transform duration-500">
                            ${quantity > 0 ? `<div class="absolute top-3 right-3 bg-gray-900 text-white text-xs font-medium px-2 py-1 rounded-md shadow-lg">${quantity} en pedido</div>` : ''}
                        </div>
                        <div class="p-5 flex flex-col flex-grow">
                            <div class="flex justify-between items-start mb-2">
                                <h3 class="text-lg font-medium text-gray-900 tracking-tight">${product.name}</h3>
                                <span class="text-base font-semibold text-gray-900">$${product.price.toLocaleString()}</span>
                            </div>
                            <p class="text-base text-gray-500 font-normal mb-6 flex-grow leading-relaxed">${product.desc}</p>
                            
                            <div class="flex items-center justify-between mt-auto pt-4 border-t border-gray-100">
                                ${quantity === 0 ? `
                                    <button onclick="updateCart(${product.id}, 1)" class="w-full py-2.5 rounded-xl bg-gray-50 text-gray-900 font-medium text-sm hover:bg-gray-100 border border-gray-200 transition-colors flex items-center justify-center gap-2 group">
                                        Agregar
                                        <i data-lucide="plus" class="w-4 h-4 text-gray-500 group-hover:text-gray-900 transition-colors"></i>
                                    </button>
                                ` : `
                                    <div class="flex items-center justify-between w-full bg-gray-50 rounded-xl p-1 border border-gray-200">
                                        <button onclick="updateCart(${product.id}, -1)" class="w-8 h-8 flex items-center justify-center bg-white rounded-lg shadow-sm text-gray-600 hover:text-red-500 transition-colors">
                                            <i data-lucide="minus" class="w-4 h-4"></i>
                                        </button>
                                        <span class="font-medium text-gray-900 text-base w-8 text-center">${quantity}</span>
                                        <button onclick="updateCart(${product.id}, 1)" class="w-8 h-8 flex items-center justify-center bg-white rounded-lg shadow-sm text-gray-600 hover:text-green-600 transition-colors">
                                            <i data-lucide="plus" class="w-4 h-4"></i>
                                        </button>
                                    </div>
                                `}
                            </div>
                        </div>
                    </article>
                `;
                container.insertAdjacentHTML('beforeend', html);
            });
            lucide.createIcons();
        }

        // Logic
        function updateCart(id, change) {
            const product = products.find(p => p.id === id);

            if (!cart[id]) {
                cart[id] = { ...product, qty: 0 };
            }

            cart[id].qty += change;

            if (cart[id].qty <= 0) {
                delete cart[id];
            }

            updateUI();
        }

        function updateUI() {
            // Update current view without full re-render if possible, but for simplicity we re-render
            // To keep focus/scroll position perfect in a real app we'd use virtual DOM, here we just save scroll or use targeted updates.
            // For this simple demo, let's find the active category and re-render.
            const activeBtn = document.querySelector('.category-btn.bg-gray-900');
            let filter = 'all';
            if (activeBtn && activeBtn.innerText === 'Hamburguesas') filter = 'hamburguesas';
            if (activeBtn && activeBtn.innerText === 'Pizzas') filter = 'pizzas';
            if (activeBtn && activeBtn.innerText === 'Bebidas') filter = 'bebidas';

            renderProducts(filter);

            // Update Bottom Bar
            const total = Object.values(cart).reduce((acc, item) => acc + (item.price * item.qty), 0);
            const count = Object.values(cart).reduce((acc, item) => acc + item.qty, 0);

            const cartEl = document.getElementById('sticky-cart');
            const countBadge = document.getElementById('header-count');

            document.getElementById('cart-total').innerText = `$${total.toLocaleString()}`;

            if (total > 0) {
                cartEl.classList.remove('translate-y-[150%]');
                countBadge.innerText = count;
                countBadge.classList.remove('opacity-0');
            } else {
                cartEl.classList.add('translate-y-[150%]');
                countBadge.classList.add('opacity-0');
            }
        }

        function filterCategory(category) {
            document.querySelectorAll('.category-btn').forEach(btn => {
                // Simple style toggle logic
                const isTarget = (category === 'all' && btn.innerText === 'Todos') ||
                    (category === 'hamburguesas' && btn.innerText === 'Hamburguesas') ||
                    (category === 'pizzas' && btn.innerText === 'Pizzas') ||
                    (category === 'bebidas' && btn.innerText === 'Bebidas');

                if (isTarget) {
                    btn.classList.remove('bg-white', 'text-gray-600', 'border-gray-200', 'hover:border-gray-300');
                    btn.classList.add('bg-gray-900', 'text-white', 'border-transparent');
                } else {
                    btn.classList.add('bg-white', 'text-gray-600', 'border-gray-200', 'hover:border-gray-300');
                    btn.classList.remove('bg-gray-900', 'text-white', 'border-transparent');
                }
            });
            renderProducts(category);
        }

        function sendToWhatsapp() {
            const name = document.getElementById('customer-name').value;
            const address = document.getElementById('customer-address').value;
            const method = document.getElementById('delivery-method').value;
            const notes = document.getElementById('customer-notes').value;

            if (Object.keys(cart).length === 0) return;

            if (!name || !address) {
                alert("Por favor completa tu nombre y direcci√≥n/mesa.");
                document.getElementById('customer-name').focus();
                return;
            }

            let message = `Hola *BLESS Pizza*, soy *${name}*.\n`;
            message += `üìç *${method}:* ${address}\n\n`;
            message += `üìù *Mi Pedido:*\n`;

            let total = 0;
            Object.values(cart).forEach(item => {
                const subtotal = item.price * item.qty;
                message += `‚ñ™Ô∏è ${item.qty}x ${item.name} ($${subtotal.toLocaleString()})\n`;
                total += subtotal;
            });

            message += `\nüí∞ *TOTAL: $${total.toLocaleString()}*`;

            if (notes) {
                message += `\n\n‚ö†Ô∏è Nota: ${notes}`;
            }

            const url = `https://wa.me/${PHONE_NUMBER}?text=${encodeURIComponent(message)}`;
            window.open(url, '_blank');
        }

        function scrollToCart() {
            window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
        }

        // Init
        renderProducts();
        lucide.createIcons();
    </script>

</body>

</html>